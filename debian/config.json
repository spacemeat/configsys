{
	"basics": {
		"install": [ {
				"did": "vim --version",
				"do": [
					"sudo apt -y update && sudo apt -y upgrade",
					"sudo apt -y install htop git tree vim wget curl xclip libcanberra-gtk-module libcanberra-gtk3-module"
				],
				"undo": "sudo apt -y remove libcanberra-gtk-module libcanberra-gtk3-module xclip curl wget vim tree git htop"
			}, {
				"did": "[ -f ~/.bash_aliases ]",
				"do": "cp ./home/.bash_aliases ~",
				"undo": "rm ~/.bash_aliases"
			}, {
				"did": "[ -f ~/.vimrc ]",
				"do": "cp ./home/.vimrc ~",
				"undo": "rm ~/.vimrc"
			}, {
				"did": "[ -d ~/.bash.d ]",
				"do": "mkdir -p ~/.bash.d",
				"undo": "rmdir ~/.bash.d"
			}, {
				"did": "[ -f ~/.bash.d/ps1.sh ]",
				"do": "cp ./home/.bash.d/ps1.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/ps1.sh"
			},{
				"did": "[ -x ~/.bash.d/ps1.sh ]",
				"do": "chmod u+x ~/.bash.d/ps1.sh",
				"undo": "chmod u-x ~/.bash.d/ps1.sh"
			}, {
				"did": "[ -f ~/.bash.d/xclip.sh ]",
				"do": "cp ./home/.bash.d/xclip.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/xclip.sh"
			}, {
				"did": "[ -x ~/.bash.d/xclip.sh ]",
				"do": "chmod u+x ~/.bash.d/xclip.sh",
				"undo": "chmod u-x ~/.bash.d/xclip.sh"
			}
		]
	},

	"nerdy fonts": {
		"vars": {
			"CS_FONT": "mononoki-nerd",
			"CS_FONTDIR": "~/.local/share/fonts/$CS_FONT",
			"CS_TMPFILE": "$CS_FONTDIR/$CS_FONT.zip",
			"CS_DLURL": "\"https://github.com/ryanoasis/nerd-fonts/releases/download/v3.1.1/Mononoki.zip\""
		},
		"install": [{
				"did": "[ -d $CS_FONTDIR ]",
				"do": "mkdir -p $CS_FONTDIR",
				"undo": "rm -r $CS_FONTDIR"
			}, {
				"did": "[ -f $CS_TMPFILE ]",
				"do": "wget -qO $CS_TMPFILE $CS_DLURL",
				"undo": "rm $CS_TMPFILE"
			}, {
				"did": "[ $(fc-list | grep \"$CS_FONT\" | wc -l) -gt 0 ]",
				"do": [
					"unzip $CS_TMPFILE -d $CS_FONTDIR",
					"sudo fc-cache -f $CS_FONTDIR"
				],
				"undo": [
					"find $CS_FONTDIR -type f ! -name \"$CS_FONT.zip\" -exec rm {} +",
					"fc-cache -f"
				]
			}

		]
	},

	"neovim": {
		"depens": ["nerdy fonts"],
		"vars": {
			"CS_INSTDIR": "~/neovim",
			"CS_CONFIGDIR": "~/.config/nvim",
			"CS_APPIMAGE": "$CS_INSTDIR/nvim.appimage",
			"CS_DLURL": "\"https://github.com/neovim/neovim/releases/latest/download/nvim.appimage\""
		},
		"install": [{
				"did": "[ -d $CS_INSTDIR ]",
				"do": "mkdir -p $CS_INSTDIR",
				"undo": "rm -rf $CS_INSTDIR"
			}, {
				"did": "[ $(apt list --installed ripgrep | grep \"ripgrep\" | wc -l) -ne 0 ]",
				"do": [
					"sudo apt -y update && sudo apt -y upgrade",
					"sudo apt -y install ripgrep"
				],
				"undo": "sudo apt -y remove ripgrep"
			}, {
				"did": "[ -f $CS_APPIMAGE ]",
				"do": "wget -qO $CS_APPIMAGE $CS_DLURL",
				"undo": "rm $CS_APPIMAGE"
			}, {
				"did": "[ -x $CS_APPIMAGE ]",
				"do": "chmod u+x $CS_APPIMAGE",
				"undo": "chmod u-x $CS_APPIMAGE"
			}, {
				"did": "[ -d $CS_CONFIGDIR ]",
				"do": "mkdir -p $CS_CONFIGDIR",
				"undo": "rm -rf $CS_CONFIGDIR"
			}, {
				"did": "[ -f $CS_CONFIGDIR/init.lua ]",
				"do": "cp -r ../neovim/* $CS_CONFIGDIR",
				"undo": "rm -r $CS_CONFIGDIR"
			}, {
				"did": "[ -f ~/.bash.d/neovim.sh ]",
				"do": "cp ./home/.bash.d/neovim.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/neovim.sh"
			}, {
				"did": "[ -x ~/.bash.d/neovim.sh ]",
				"do": "chmod u+x ~/.bash.d/newvim.sh",
				"undo": "chmod u-x ~/.bash.d/newvim.sh"
			}
		]
	},

	"ssh for github": {
		"depends": [],
		"vars": {
			"CS_SSHDIR": "~/.ssh",
			"CS_ALG": "ed25519",
			"CS_FN": "id_$CS_ALG",
			"CS_PRVPATH": "$CS_SSHDIR/$CS_FN",
			"CS_PUBPATH": "$CS_SSHDIR/$CS_FN.pub",
			"CS_DEFPRVPATH": "$CS_SSHDIR/defunct_$CS_FN",
			"CS_DEFPUBPATH": "$CS_SSHDIR/defunct_$CS_FN.pub",
			"CS_GITHUBURL": "\"https://github.com/settings/keys\""
		},
		"install": [ {
				"did": "[ -e $CS_PUBPATH ]",
				"do": "echo \"Comment (email): \" && read SSHCOMMENT && ssh-keygen -t $CS_ALG -C \"$SSHCOMMENT\"",
				"undo": "mv $CS_PRVPATH $CS_DEFPRVPATH && mv $CS_PUBPATH $CS_DEFPUBPATH"
			}, {
				"did": "[ $(env | grep 'SSH_AUTH_SOCK' | wc -l) -gt 0 ]",
				"do": "eval \"$(ssh-agent -s)\"",
				"undo": ""
			} ,{
				"did": "[ $(ssh-add -L | grep \"ssh-$CS_ALG\" | wc -l) -gt 0 ]",
				"do": "ssh-add $CS_PRVPATH",
				"undo": "ssh-add -d $CS_PUBPATH"
			}, {
				"did": "[ -f $CS_PUBPATH ]",
				"do": [
					"cat $CS_PUBPATH | setclip",
					"xdg-open $CS_GITHUBURL"
				],
				"undo": "xdg-open $CS_GITHUBURL"
			}
		]
	},

	"flatpak": {
		"depends": [],
		"vars": {},
		"install": [ {
				"did": "[ $(apt list --installed flatpak | grep \"flatpak\" | wc -l) -ne 0 ]",
				"do": "sudo apt -y install flatpak",
				"undo": "sudo apt -y remove flatpak"
			}, {
				"did": "[ $(flatpak remotes | grep \"flathub\" | wc -l) -ne 0 ]",
				"do": "flatpak remote-add --user --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo",
				"udno": "flatpak remobe-remove flathub"
			}
		]
	},

	
	"firefox": {
		"depends": ["flatpak"],
			"install": [ {
				"did": "[ $(flatpak list --app | grep 'firefox' | wc -l) -ne 0 ]",
				"do": "flatpak install flathub org.mozilla.firefox",
				"undo": "flatpak uninstall org.mozilla.firefox"
			}
		]
	},

	"discord": {
		"notes": "Could be from flatpak",
		"depends": [],
		"vars": {},
		"install": [ {
				"did": "[ $(apt list --installed discord | grep \"discord\" | wc -l) -ne 0 ]",
				"do": "sudo apt -y install discord",
				"undo": "sudo apt -y remove discord"
			}
		]
	},

	"slack": {
		"notes": "Could be from flatpak",
		"depends": [],
		"vars": {},
		"install": [ {
				"did": "[ $(apt list --installed slack-desktop | grep \"slack-desktop\" | wc -l) -ne 0 ]",
				"do": "sudo apt -y install slack-desktop",
				"undo": "sudo apt -y remove slack-desktop"
			}
		]
	},

	"citybanner": {
		"depends": [],
		"install": [ {
				"did": "[ -d ~/citybanner ]",
				"do": "mkdir -p ~/citybanner",
				"undo": "rm -r ~/citybanner"
			}, {
				"did": "[ -f ~/citybanner/citybanner.py ]",
				"do": "cp -ru ../linux/citybanner/* ~/citybanner",
				"undo": "rm ~/citybanner/*"
			}, {
				"did": "[ -f ~/.bash.d/citybanner.sh ]",
				"do": "cp ./home/.bash.d/citybanner.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/citybanner.sh"
			}, {
				"did": "[ -x ~/.bash.d/citybanner.sh ]",
				"do": "chmod u+x ~/.bash.d/citybanner.sh",
				"undo": "chmod u-x ~/.bash.d/citybanner.sh"
			}
		]
	},

	"c-dev": {
		"depends": [],
		"install": [ {
				"did": "gcc --version",
				"do": [
					"sudo apt -y update && sudo apt -y upgrade",
					"sudo apt -y install build-essential cmake"
				],
				"undo": "sudo apt -y remove cmake build-essential"
			}, {
				"did": "[ -f ~/.gdbinit ]",
				"do": "cp ./home/.gdbinit ~",
				"undo": "rm ~/.gdbinit"
			}, {
				"did": "[ -f ~/.gdbinit_x ]",
				"do": "cp ./home/.gdbinit_x",
				"undo": "rm ~/.gdbinit_x"
			}, {
				"did": "[ -f ~/.bash.d/gdb.sh ]",
				"do": "cp ./home/.bash.d/gdb.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/gdb.sh"
			}, {
				"did": "[ -x ~/.bash.d/gdb.sh ]",
				"do": "chmod u+x ~/.bash.d/gdb.sh",
				"undo": "chmod u-x ~/.bash.d/gdb.sh"
			}
		]
	},

	"geg": {
		"depends": ["basics", "c-dev"],
		"install": [ {
				"did": "[ -d ~/src/geg ]",
				"do": "mkdir -p ~/src/geg",
				"undo": "rm -r ~/src/geg"
			}, {
				"did": "[ -f ~/src/geg/LICENSE ]",
				"do": "git clone git@github.com:spacemeat/geg ~/src/geg",
				"undo": "rm -r ~/src/geg/*"
			}, {
				"did": "[ -f ~/.bash.d/geg.sh ]",
				"do": "cp ./home/.bash.d/geg.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/geg.sh"
			}, {
				"did": "[ -x ~/.bash.d/geg.sh ]",
				"do": "chmod u+x ~/.bash.d/geg.sh",
				"undo": "chmod u-x ~/.bash.d/geg.sh"
			}
		]
	},

	"python3": {
		"depends": [],
		"install": [ {
				"did": "[ $(apt list --installed python3-pip python3-venv | grep \"python3\" | wc -l) -ge 2 ]",
				"do": [
					"sudo apt -y updage && sudo apt -y upgrade",
					"sudo apt -y install python3-pip python3-venv"
				],
				"undo": "sudo apt -y remove python3-venv python3-pip"
			}
		],
		"notes": "TODO: Source from more up-to-date place."
	},

	"nvm": {
		"depends": ["basics"],
		"vars": {
			"CS_DLURL": "\"https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh\""
		},
		"install": [ {
				"did": "[ -f ~/.nvm/LICENSE.md ]",
				"do": "curl -o- $CS_DLURL | bash",
				"undo": "rm -rf ~/.nvm"
			}, {
				"did": "[ $NVM_DIR ]",
				"do": "source ~/.bashrc",
				"undo": ""
			}
		]
	},

	"node": {
		"depends": ["nvm"],
		"install": [ {
				"did": "node --version",
				"do": "nvm install latest",
				"undo": "nvm uninstall latest"
			}
		]
	},

	"go": {
		"depends": [],
		"vars": {
			"CS_INSTDIR": "/usr/local",
			"CS_TMPPATH": "/tmp/golang.tar.gz",
			"CS_VERURL": "",
			"CS_DLURL": "\"https://go.dev/dl/go1.21.6.linux-amd64.tar.gz\"",
			"CS_DLVURL": "\"github.com/go-delve/delve/cmd/dlv@latest\""
		},
		"install": [ {
				"notes": "Need to get current version via scraping I guess",
				"did": "go version",
				"do": [
					"wget -qO $CS_TMPPATH $CS_DLURL",
					"tar -C $CS_INSTDIR -xzf $CS_TMPPATH",
					"rm $CS_TMPPATH"
				],
				"undo": [
					"rm -rf $CS_INSTDIR/go"
				]
			}, {
				"did": "dlv version",
				"do": "go install $CS_DLVURL",
				"undo": ""
			}, {
				"did": "[ -f ~/.bash.d/go.sh ]",
				"do": "cp ./home/.bash.d/go.sh ~/.bash.d",
				"undo": "rm ~/.bash.d/go.sh"
			}, {
				"did": "[ -x ~/.bash.d/go.sh ]",
				"do": "chmod u+x ~/.bash.d/go.sh",
				"undo": "chmod u-x ~/.bash.d/go.sh"
			}
		]
	},

	"all-lang-dev": {
		"depends": ["basics", "c-dev", "python3", "node"]
	},

	"vulkan-dev": {
		"depends": ["c-dev"],
		"vars": {
			"CS_PUBKEYURL": "https://packages.lunarg.com/lunarg-signing-key-pub.asc",
			"CS_PUBKEYPATH": "/etc/apt/trusted.gpg.d/lunarg.asc",
			"CS_SOURCESURL": "http://packages.lunarg.com/vulkan/lunarg-vulkan-jammy.list",
			"CS_SOURCESPATH": "/etc/apt/sources.list.d/lunarg-vulkan-jammy.list"
		},
		"install": [ {
				"did": "[ -f $CS_PUBKEYPATH ]",
				"do": "wget -qO- $CS_PUBKEYURL | sudo tee $CS_PUBKEYPATH",
				"undo": "sudo rm $CS_PUBKEYPATH"
			}, {
				"did": "[ -f $CS_SOURCESPATH ]",
				"do": "sudo wget -qO $SOURCESPATHt $CS_SOURCESURL",
				"undo": "sudo rm $CS_SOURCESPATH"
			}, {
				"did": "[ $(apt list --installed vulkan-sdk | grep \"vulkan-sdk\" | wc -l) -ne 0 ]",
				"do": [
					"sudo apt -y update && sudo apt -y upgrade",
					"sudo apt -y install vulkan-sdk"
				],
				"undo": "sudo apt -y remove vulkan-sdk"
			}
		]
	}
}

